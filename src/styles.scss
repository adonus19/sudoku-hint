// Include theming for Angular Material with `mat.theme()`.
// This Sass mixin will define CSS variables that are used for styling Angular Material
// components according to the Material 3 design spec.
// Learn more about theming and how to use it for your application's
// custom components at https://material.angular.dev/guide/theming
@use '@angular/material' as mat;

/* Define light & dark themes once */
$light-theme: mat.define-theme((color: (theme-type: light,
        primary: mat.$cyan-palette,
        tertiary: mat.$orange-palette )));

$dark-theme: mat.define-theme((color: (theme-type: dark,
        primary: mat.$cyan-palette,
        tertiary: mat.$orange-palette ),
    ));

/* Default: light */
html {
  @include mat.all-component-themes($light-theme);
}

/* Enable dark mode by adding .dark on <html> (Settings page will toggle this) */
html.dark {
  @include mat.all-component-themes($dark-theme);
}

/* Optional: honor system dark when no explicit class is set */
@media (prefers-color-scheme: dark) {
  html:not(.dark):not(.light) {
    @include mat.all-component-themes($dark-theme);
  }
}

/* System palette plumbing */
html,
body {
  height: 100%;
}

body {
  margin: 0;
  color-scheme: light;
  background-color: var(--mat-sys-surface);
  color: var(--mat-sys-on-surface);
  font: var(--mat-sys-body-medium);
  font-family: Roboto, "Helvetica Neue", sans-serif;
}

html.dark body {
  color-scheme: dark;
}

/* --- your existing utility styles stay as-is --- */
.hint-dialog-floating {
  box-shadow: 0 8px 24px rgba(0, 0, 0, .25);
  border-radius: 8px;
  pointer-events: auto;
}

.app-hint-amber {
  background: rgba(255, 193, 7, .12) !important;
}

.app-hint-target {
  box-shadow: inset 0 0 0 3px rgba(255, 193, 7, .95) !important;
}

.app-hl-blue {
  background: rgba(25, 118, 210, .10) !important;
}

.app-hl-blue-strong {
  background: rgba(25, 118, 210, .16) !important;
}

@media (max-width: 599px) {

  .mat-toolbar-row,
  .mat-toolbar-single-row {
    height: 56px;
  }
}

.photo-dialog .mat-mdc-dialog-surface {
  border-radius: 12px;
}

.photo-dialog .mat-mdc-dialog-content {
  padding: 16px 16px 0;
  max-height: calc(92vh - 64px);
  overflow: auto;
}

.photo-dialog .mat-mdc-dialog-actions {
  padding: 8px 16px 16px;
}

.cdk-overlay-backdrop .cdk-global-overlay-wrapper {
  z-index: 12000 !important;
}

.frosted-dialog .mat-mdc-dialog-surface {
  background: rgba(255, 255, 255, 0.65);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  border: 1px solid rgba(255, 255, 255, 0.45);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.28);
  overflow: hidden;
  border-radius: 16px;
}

/* Optional fallback: blur board while paused */
body.paused .board {
  filter: blur(8px) saturate(90%);
  pointer-events: none;
}
