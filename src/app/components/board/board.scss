 :host {
   --cell: clamp(36px, 9.8vw, 56px);
   --label: 18px;
   --gap: 4px;
   display: block;
 }

 @media (max-width: 599px) {
   :host {
     --cell: clamp(40px, 10.5vw, 64px);
     --label: 14px;
     --gap: 3px;
   }
 }

 /* NEW: center wrapper */
 .board-outer {
   display: inline-block;
   max-width: 100%;
   margin: 0 auto;
 }

 .col-labels {
   display: grid;
   grid-template-columns: calc(var(--label) + var(--gap)) repeat(9, var(--cell));
   margin-bottom: var(--gap);
 }

 .col-label,
 .row-label {
   text-align: center;
   font-size: var(--label);
   color: rgba(0, 0, 0, .7);
   line-height: 1;
 }

 .corner {
   width: calc(var(--label) + var(--gap));
 }

 .row {
   display: flex;
 }

 .row-labels {
   display: grid;
   grid-auto-rows: var(--cell);
   width: calc(var(--label) + var(--gap));
   margin-right: var(--gap);
 }

 .board {
   display: inline-block;
   outline: none;
   border: 2px solid rgba(0, 0, 0, .6);
   width: calc(9 * var(--cell));
 }

 /* Cells/pencils (unchanged below) */
 .cell {
   width: var(--cell);
   aspect-ratio: 1/1;
   padding: 0;
   border: 1px solid rgba(0, 0, 0, .25);
   background: white;
   cursor: pointer;
   display: grid;
   place-items: center;
   font-size: calc(var(--cell) * 0.38);
   line-height: 1;
   position: relative;
 }

 .cell .val {
   font-weight: 500;
 }

 .pencil {
   width: 100%;
   height: 100%;
   display: grid;
   grid-template-columns: repeat(3, 1fr);
   grid-template-rows: repeat(3, 1fr);
   place-items: center;
   font-size: calc(var(--cell) * 0.2);
   color: rgba(0, 0, 0, .38);
 }

 .p {
   opacity: 0;
   border-radius: 2px;
   padding: 2px 4px;
   user-select: none;
 }

 .p.on {
   opacity: 1;
 }

 .p.cand-match {
   background: rgba(25, 118, 210, .45);
   color: rgba(0, 0, 0, .85);
   font-weight: 600;
 }

 .p.cand-hint {
   background: rgba(255, 193, 7, .35) !important;
   color: rgba(0, 0, 0, .95);
   font-weight: 700;
 }

 /* Thick box borders */
 .board .row:nth-child(3n+1) .cell {
   border-top-width: 2px;
   border-top-color: rgba(0, 0, 0, .5);
 }

 .board .row .cell:nth-child(3n+1) {
   border-left-width: 2px;
  border-left-color: rgba(0, 0, 0, .5);
 }

 .board .row:nth-child(9) .cell {
   border-bottom-width: 2px;
  border-bottom-color: rgba(0, 0, 0, .5);
 }

 .board .row .cell:nth-child(9) {
   border-right-width: 2px;
  border-right-color: rgba(0, 0, 0, .5);
 }

 .cell.given .val {
   font-weight: 700;
   color: rgba(0, 0, 0, .87);
 }

 .cell.user .val {
   color: var(--mat-mdc-slide-toggle-selected-handle-color, #3f51b5);
 }

 .cell.selected {
   outline: 2px solid rgba(25, 118, 210, .9);
   outline-offset: -2px;
 }

 .cell.hl-row,
 .cell.hl-col,
 .cell.hl-box {
   background: rgba(25, 118, 210, .08);
 }

 .cell.hl-row.hl-col,
 .cell.hl-row.hl-box,
 .cell.hl-col.hl-box {
   background: rgba(25, 118, 210, .14);
 }

 .board .cell.hint-row,
 .board .cell.hint-col,
 .board .cell.hint-box {
   background: rgba(255, 193, 7, .18) !important;
 }

 .board .cell.hint-target {
   box-shadow: inset 0 0 0 3px rgba(255, 193, 7, .95) !important;
 }

 .cell:disabled {
   background: #fafafa;
   cursor: default;
 }

 .cell.conflict {
   box-shadow: inset 0 0 0 2px rgba(211, 47, 47, .9);
 }

 .cell.conflict .val {
   color: rgba(211, 47, 47, 1);
 }

 /* Optional: reduce left gutter when labels hidden (keeps grid centered) */
 .labels-off .row {
   margin-left: 0;
 }
