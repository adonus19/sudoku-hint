<mat-toolbar
  color="primary"
  class="topbar"
>
  <span class="brand">Sudoku Solver</span>
  <span class="spacer"></span>

  <!-- Desktop controls -->
  <div class="bar-controls hide-sm">
    <button
      mat-button
      (click)="openHint()"
    ><mat-icon>lightbulb</mat-icon> Hint</button>
    <button
      mat-button
      (click)="openImport()"
    ><mat-icon>file_upload</mat-icon> Import</button>
    <button
      mat-button
      (click)="store.resetPencils()"
    ><mat-icon>layers_clear</mat-icon> Reset pencils</button>
    <mat-slide-toggle
      [checked]="store.pencilMode()"
      (change)="store.togglePencilMode()"
    >Pencil</mat-slide-toggle>
    <mat-slide-toggle
      [checked]="store.editingGivenMode()"
      (change)="store.toggleEditingGivenMode()"
    >Initial</mat-slide-toggle>

    <!-- NEW: Full-screen board toggle -->
    <mat-slide-toggle
      [checked]="store.fullScreenBoard()"
      (change)="store.toggleFullScreenBoard()"
    >Full screen</mat-slide-toggle>

    <button
      mat-button
      (click)="store.resetBoard()"
    ><mat-icon>restart_alt</mat-icon> Reset</button>
  </div>

  <!-- Mobile: compact + overflow -->
  <div class="bar-controls show-sm">
    <button
      mat-icon-button
      matTooltip="Hint"
      (click)="openHint()"
    ><mat-icon>lightbulb</mat-icon></button>
    <button
      mat-icon-button
      matTooltip="Pencil mode"
      [class.on]="store.pencilMode()"
      (click)="store.togglePencilMode()"
    ><mat-icon>edit_note</mat-icon></button>
    <button
      mat-icon-button
      matTooltip="Initial entry"
      [class.on]="store.editingGivenMode()"
      (click)="store.toggleEditingGivenMode()"
    ><mat-icon>flag</mat-icon></button>

    <button
      mat-icon-button
      [matMenuTriggerFor]="more"
      aria-label="More"
    >
      <mat-icon>more_vert</mat-icon>
    </button>
    <mat-menu #more="matMenu">
      <button
        mat-menu-item
        (click)="openImport()"
      ><mat-icon>file_upload</mat-icon><span>Import</span></button>
      <button
        mat-menu-item
        (click)="store.resetPencils()"
      ><mat-icon>layers_clear</mat-icon><span>Reset pencils</span></button>
      <!-- NEW: Full-screen board toggle in overflow -->
      <button
        mat-menu-item
        (click)="store.toggleFullScreenBoard()"
      >
        <mat-icon>{{ store.fullScreenBoard() ? 'fullscreen_exit' : 'fullscreen' }}</mat-icon>
        <span>{{ store.fullScreenBoard() ? 'Exit full screen' : 'Full screen board' }}</span>
      </button>
      <button
        mat-menu-item
        (click)="store.resetBoard()"
      ><mat-icon>restart_alt</mat-icon><span>Reset board</span></button>
    </mat-menu>
  </div>
</mat-toolbar>

<!-- CENTER the content -->
<div class="container center">
  <app-board></app-board>
  <app-number-pad class="pad-sticky"></app-number-pad>
  <div class="tips">Hotkeys: <kbd>.</kbd> toggle pencil mode â€¢ <kbd>Shift+Backspace</kbd> clear pencils</div>
</div>
